---
description: Auto-applied rule ensuring all .mdc Cursor rule files have complete YAML frontmatter metadata. Applies when creating or modifying files in .cursor/rules/ directory.
version: 1.0.0
lastUpdated: 04-12-2025 11:12:43 EST
globs: .cursor/rules/*.mdc
alwaysApply: false
type: Documentation Maintenance Rule - Ensures rule file metadata completeness
relatedCommands: [audit-documentation-rules-metadata.md]
relatedRules: [cursor-rule-creation.mdc, documentation-dependency-tracking.mdc]
relatedStandards: [process/cursor-rules-standards.md, project-planning/documentation.md]
---

# Rule Metadata Rule

## When This Rule Applies

This rule **automatically applies** when:
- Creating or modifying any `.mdc` file in `.cursor/rules/` directory

---

## Core Principle

**All Cursor rule files must have complete, accurate YAML frontmatter.** This ensures:
- Rules are properly scoped and applied
- Version history is tracked
- Dependencies are documented
- Rules integrate correctly with the system

---

## Agent Responsibilities

### 1. Before Creating/Modifying a Rule

**Check if YAML frontmatter exists:**
- Look for `---` delimited YAML block at the top of the file
- If missing, you MUST add it

**Review existing frontmatter:**
- Verify all required fields are present
- Check if version needs incrementing
- Verify `lastUpdated` is current EST timestamp
- Verify `globs` is present (even if empty string)

### 2. Required YAML Frontmatter Fields

Every `.mdc` rule file MUST have:

```yaml
---
description: Brief description of what this rule does and when to apply it (1-2 sentences)
version: X.Y.Z
lastUpdated: DD-MM-YYYY HH:MM:SS EST
globs: file/pattern (REQUIRED - use empty string "" if alwaysApply is true, NO quotes)
alwaysApply: true/false
type: Rule Type - Brief description (NO quotes)
relatedCommands: [command1.md, command2.md] (optional)
relatedRules: [rule1.mdc, rule2.mdc] (optional)
relatedStandards: [standard1.md, standard2.md] (optional)
---
```

### 3. Field Requirements

#### description (REQUIRED)
- **1-2 sentences** that describe what the rule does AND when to apply it
- First sentence: What the rule does
- Second sentence (optional): When/where it applies
- The description tells the agent when to use the rule
- Examples:
  - ✅ `Auto-applied rule for creating and modifying Cursor rules. Applies when editing .cursor/rules/*.mdc files.`
  - ✅ `Frontend development standards for React components. Applies when working in src/frontend/ directory.`
  - ❌ `Error handling` (too vague, doesn't say when to apply)

#### version (REQUIRED)
- Semantic versioning: `X.Y.Z` format
- Major (X.0.0): Breaking changes or major behavior changes
- Minor (X.Y.0): New features or significant additions
- Patch (X.Y.Z): Bug fixes, clarifications, minor updates
- Always increment when modifying rule content

#### lastUpdated (REQUIRED)
- Format: `DD-MM-YYYY HH:MM:SS EST`
- Update EVERY time rule content changes
- Use EST timezone: `TZ=America/New_York date "+%d-%m-%Y %H:%M:%S EST"`
- Example: `04-12-2025 11:12:43 EST`

#### globs (REQUIRED)
- **Required field** - must be present in all rules
- If `alwaysApply: true`, use empty string: `globs: ""`
- If `alwaysApply: false`, specify pattern (NO quotes in .mdc files)
- Examples:
  - `globs: ""` - When alwaysApply is true
  - `globs: **/*.ts` - All TypeScript files
  - `globs: **/*.{ts,tsx}` - TypeScript and TSX files
  - `globs: {standards/**/*.md,docs/**/*.md}` - Multiple patterns

#### alwaysApply (REQUIRED)
- Boolean: `true` or `false`
- `true`: Rule applies to all files (set `globs: ""`)
- `false`: Rule only applies to files matching `globs` pattern

#### type (REQUIRED)
- One of 8 standard rule types (NO quotes in YAML)
- Examples:
  - `Auto-Applied Behavioral Rule - Guides AI agent behavior`
  - `Environment Configuration Rule - Defines runtime expectations`
  - `Workflow Integration Rule - Manages task lifecycle`
  - `Conditional Rule - Applies to specific file types`
  - See `standards/process/cursor-rules-standards.md` Section 4 for all types

#### relatedCommands (OPTIONAL)
- Array of command filenames (not full paths)
- Format: `[command1.md, command2.md]`
- Examples: `[pre-flight-check.md, pr-review-check.md]`

#### relatedRules (OPTIONAL)
- Array of rule filenames (not full paths)
- Format: `[rule1.mdc, rule2.mdc]`
- Examples: `[environment.mdc, auto-heal.mdc]`

#### relatedStandards (OPTIONAL)
- Array of standard paths (relative from `.cursor/rules/`)
- Format: `[standard1.md, standard2.md]`
- Examples: `[process/code-quality-linting-standards.md, project-planning/documentation.md]`

### 4. When Modifying a Rule

**MANDATORY STEPS:**

1. **Update lastUpdated:**
   - Set to current date/time in EST: `DD-MM-YYYY HH:MM:SS EST`
   - Use: `TZ=America/New_York date "+%d-%m-%Y %H:%M:%S EST"`

2. **Increment version:**
   - Major: Breaking changes or major behavior changes
   - Minor: New sections, new responsibilities
   - Patch: Bug fixes, clarifications

3. **Update related fields:**
   - Add new commands/rules/standards you reference
   - Remove ones you no longer reference

4. **Verify globs:**
   - Ensure it's present (even if empty string)
   - Update pattern if rule scope changed

---

## Examples

### Good YAML Frontmatter

```yaml
---
description: Auto-applied rule ensuring all .mdc Cursor rule files have complete YAML frontmatter metadata. Applies when creating or modifying files in .cursor/rules/ directory.
version: 1.0.0
lastUpdated: 04-12-2025 11:12:43 EST
globs: .cursor/rules/*.mdc
alwaysApply: false
type: Documentation Maintenance Rule - Ensures rule file metadata completeness
relatedCommands: [audit-documentation-rules-metadata.md]
relatedRules: [cursor-rule-creation.mdc, documentation-dependency-tracking.mdc]
relatedStandards: [process/cursor-rules-standards.md, project-planning/documentation.md]
---
```

### Bad YAML Frontmatter

```yaml
---
description: Rule metadata
version: 1
lastUpdated: 2025-12-04
type: "Rule"
---
```
❌ Problems:
- Description too vague (doesn't say when to apply)
- Version not semantic (should be 1.0.0)
- Date format wrong (should be DD-MM-YYYY HH:MM:SS EST)
- Missing required fields (globs, alwaysApply)
- Type has quotes (should be NO quotes)
- Missing related fields

---

## Integration with Other Rules

This rule works with:

### `cursor-rule-creation.mdc`
- That rule provides comprehensive guidance for creating rules
- This rule ensures metadata is complete
- Both rules work together for rule quality

### `documentation-dependency-tracking.mdc`
- That rule tracks dependencies when files are modified
- This rule ensures metadata structure is complete
- Both rules work together for comprehensive maintenance

### `documentation-metadata.mdc`
- That rule handles `.md` documentation files
- This rule handles `.mdc` rule files
- Together they ensure all files have proper metadata

---

## Related Files

- **Commands:**
  - [audit-documentation-rules-metadata.md](../commands/audit-documentation-rules-metadata.md) - Orchestrates metadata validation
- **Rules:**
  - [cursor-rule-creation.mdc](./cursor-rule-creation.mdc) - Comprehensive rule creation guide
  - [documentation-metadata.mdc](./documentation-metadata.mdc) - Ensures doc file metadata
  - [documentation-dependency-tracking.mdc](./documentation-dependency-tracking.mdc) - Tracks doc dependencies
- **Standards:**
  - [cursor-rules-standards.md](../../standards/process/cursor-rules-standards.md) - Rule creation standards
  - [documentation.md](../../standards/project-planning/documentation.md) - Documentation management standards

---

## How to Use This Rule

**This rule applies automatically when creating or modifying `.mdc` files in `.cursor/rules/` directory.**

**Agents should:**
1. Check for YAML frontmatter at top of file (between `---` delimiters)
2. Verify all required fields are present
3. Ensure description is 1-2 sentences with when to apply
4. Update lastUpdated with current EST timestamp
5. Increment version if content changed
6. Ensure globs is present (empty string or pattern)
7. Verify type matches one of 8 standard types (NO quotes)
8. Update related fields if dependencies changed

**Validation checklist:**
- [ ] description is 1-2 sentences with when to apply
- [ ] version follows semantic versioning (X.Y.Z)
- [ ] lastUpdated in DD-MM-YYYY HH:MM:SS EST format
- [ ] globs is present (empty string "" or pattern, NO quotes)
- [ ] alwaysApply is true or false
- [ ] type is declared (one of 8 types, NO quotes)
- [ ] relatedCommands listed (if any)
- [ ] relatedRules listed (if any)
- [ ] relatedStandards listed (if any)

---

## Notes

- **Description is critical:** It tells agents when to use the rule
- **Always include globs:** Even if empty string when alwaysApply is true
- **Use EST timezone:** All timestamps must be in EST
- **No quotes on type/globs:** YAML frontmatter doesn't use quotes for these fields
- **Track dependencies:** Helps maintain cross-reference integrity
